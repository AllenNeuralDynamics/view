instrument:
  id: speakeasy
  channels:
#    "405":
#      laser: 405nm
#      filter_wheel:
#        ASI FW-1000: BP488
    "488":
      laser: 488nm
      filter_wheel:
        ASI FW-1000: BP488
    "561":
      laser: 561nm
      filter_wheel:
        ASI FW-1000: BP561
#    "638":
#      laser: 638nm
#      filter_wheel:
#        ASI FW-1000: LP638
  devices:
    stages:
      ASI MS-8000:
        driver: tigerasi.tiger_controller
        module: TigerController
        init:
          com_port: COM4
        subdevices:
          tiling_stages:
            ASI MS-8000 x axis:
              driver: voxel.devices.stage.asi
              module: Stage
              init:
                port: COM4
                hardware_axis: x
                instrument_axis: x
              settings:
                speed_mm_s: 1.0
            ASI MS-8000 y axis:
              port: COM4
              driver: voxel.devices.stage.asi
              module: Stage
              init:
                port: COM4
                hardware_axis: y
                instrument_axis: y
              settings:
                speed_mm_s: 1.0
            ASI MS-8000 z axis:
              driver: voxel.devices.stage.asi
              module: Stage
              init:
                port: COM4
                hardware_axis: z
                instrument_axis: z
              settings:
                speed_mm_s: 1.0
          filter_wheels:
            ASI FW-1000:
              driver: voxel.devices.filterwheel.asi
              module: FilterWheel
              init:
                id: 0
                filters:
                  BP405: 0
                  BP488: 1
                  BP561: 2
                  LP638: 3
                  MB405/488/561/638: 4
                  Empty1: 5
                  Empty2: 6
    combiners:
      combiner_0:
        driver: oxxius_laser
        module: L6CCCombiner
        init:
          port: COM5
        subdevices:
          lasers:
#            405nm:
#              driver: voxel.devices.lasers.oxxius.laser_lbx_oxxius
#              module: LaserLBXOxxius
#              color: purple
#              init:
#                prefix: L6
#                coefficients:
#                  1: 3.218
#                  0: -57.515
#              settings:
#                cdrh: OFF
#                constant_current: ON
#                modulation_mode: digital
            488nm:
              driver: voxel.devices.lasers.oxxius.laser_lbx_oxxius
              module: LaserLBXOxxius
              color: blue
              init:
                prefix: L5
                coefficients:
                  1: 2.3125
                  0: -35.09
              settings:
                cdrh: OFF
                constant_current: ON
                modulation_mode: digital
#            638nm:
#              driver: voxel.devices.lasers.oxxius.laser_lbx_oxxius
#              module: LaserLBXOxxius
#              color: red
#              init:
#                prefix: L1
#                coefficients:
#                  1: 2.237
#                  0: -29.349
#              settings:
#                cdrh: OFF
#                constant_current: ON
#                modulation_mode: digital
            561nm:
              driver: voxel.devices.lasers.oxxius.laser_lcx_oxxius
              module: LaserLCXOxxius
              color: greenyellow
              init:
                prefix: L3
    cameras:
      C15440-20UP:
        driver: voxel.devices.camera.hamamatsu_dcam
        module: Camera
        init:
          id: "500748"
        settings:
          exposure_time_ms: 20.0
          pixel_type: mono16
          roi:
            width_px: 2304
            height_px: 2304
          trigger:
            mode: on
            source: external
            polarity: rising
    daqs:
      PCIe-6738:
        driver: voxel.devices.daq.ni
        module: DAQ
        init:
          dev: Dev1
          tasks:
              ao_task:
                  name: ao task
                  timing:
                      trigger_mode: on
                      trigger_polarity: rising
                      trigger_port: PFI2
                      retriggerable: on
                      sample_mode: finite
                      period_time_ms: 500
                      rest_time_ms: 50
                      sampling_frequency_hz: 10000
                  ports:
                      camera:
                        port: ao0
                        device_min_volts: 0.0
                        device_max_volts: 5.0
                        waveform: sawtooth
                        parameters:
                            start_time_ms:
                              channels:
                                  "488": 10.0
                                  "561": 10.0
                            end_time_ms:
                              channels:
                                  "488": 400.0
                                  "561": 400.0
                            amplitude_volts:
                              channels:
                                  "488": 1.0
                                  "561": 1.0
                            offset_volts:
                              channels:
                                "488": 2.5
                                "561": 2.5
                            cutoff_frequency_hz:
                              channels:
                                "488": 200
                                "561": 200
                      x galvo mirror:
                        port: ao3
                        device_min_volts: 0.0
                        device_max_volts: 5.0
                        waveform: sawtooth
                        parameters:
                          start_time_ms:
                            channels:
                              "488": 10.0
                              "561": 10.0
                          end_time_ms:
                            channels:
                              "488": 400.0
                              "561": 400.0
                          amplitude_volts:
                            channels:
                              "488": 0.0
                              "561": 0.0
                          offset_volts:
                            channels:
                              "488": 2.5
                              "561": 2.5
                          cutoff_frequency_hz:
                            channels:
                              "488": 200
                              "561": 200
                      y galvo mirror:
                        port: ao21
                        device_min_volts: 0.0
                        device_max_volts: 5.0
                        waveform: sawtooth
                        parameters:
                          start_time_ms:
                            channels:
                              "488": 10.0
                              "561": 10.0
                          end_time_ms:
                            channels:
                              "488": 400.0
                              "561": 400.0
                          amplitude_volts:
                            channels:
                              "488": 0.0
                              "561": 0.0
                          offset_volts:
                            channels:
                              "488": 2.5
                              "561": 2.5
                          cutoff_frequency_hz:
                            channels:
                              "488": 200
                              "561": 200
                      voice box:
                        port: ao2
                        device_min_volts: 0.0
                        device_max_volts: 5.0
                        waveform: sawtooth
                        parameters:
                          start_time_ms:
                            channels:
                              "488": 10.0
                              "561": 10.0
                          end_time_ms:
                            channels:
                              "488": 400.0
                              "561": 400.0
                          amplitude_volts:
                            channels:
                              "488": 1.0
                              "561": 1.0
                          offset_volts:
                            channels:
                              "488": 0.0
                              "561": 0.0
                          cutoff_frequency_hz:
                            channels:
                              "488": 200
                              "561": 200
                      488_laser:
                        port: ao4
                        device_min_volts: 0.0
                        device_max_volts: 5.0
                        waveform: square wave
                        parameters:
                          start_time_ms:
                            channels:
                              "488": 10.0
                              "561": 10.0
                          end_time_ms:
                            channels:
                              "488": 400.0
                              "561": 400.0
                          max_volts:
                            channels:
                              "488": 5.0
                              "561": 5.0
                          min_volts:
                            channels:
                              "488": 0.0
                              "561": 0.0
#                      561_laser:
#                        port: ao1
#                        device_min_volts: 0.0
#                        device_max_volts: 5.0
#                        waveform: square wave
#                        parameters:
#                          start_time_ms:
#                            channels:
#                              "488": 10.0
#                              "561": 10.0
#                          end_time_ms:
#                            channels:
#                              "488": 400.0
#                              "561": 400.0
#                          max_volts:
#                            channels:
#                              "488": 5.0
#                              "561": 5.0
#                          min_volts:
#                            channels:
#                              "488": 0.0
#                              "561": 0.0
              co_task:
                  name: co task
                  timing:
                      output_port: PFI3
                      frequency_hz: 5.0
                      trigger_mode: off
                  counters: [ctr0]


